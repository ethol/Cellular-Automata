package extra;

import java.io.BufferedReader;
import java.io.FileNotFoundException;
import java.io.FileReader;
import java.io.IOException;
import java.util.ArrayList;
import java.util.Arrays;

import CA.CA;
import CA.CAIBA;

public class IterationsToFinishTT {
	final static String solution = 
			"1 1 1 1 1 1 1 1 1 1 1 1 0 0 0 0 0 0 0 0 0 0 0 0 2 2 2 2 2 2 2 2 2 2 2 2 "
			//"1 1 1 1 1 1 1 1 1 1 1 1 2 2 2 2 2 2 2 2 2 2 2 2 3 3 3 3 3 3 3 3 3 3 3 3 "
			
			;

	final static String[] test = new String[]{
		"221220111102222001221010221211011020101011121020021001122211100101210000002111120201202120210002212020010201021102121021121102111022101101101211201102010001221101112100221011021120010120011110020121102120001002211021211210010200201111202112122",
		"222000200120220122020110120100110011210102221012102012011012222001211001220021001000111202020002111201222000020200112010111212020000111101201010021021002021200202120101112020012000121211222021002022021001222111222200011221202220210111000111201",
		"222202010002000111222101011000012001011122111000000101220111012201000122122002110000112202001001210222101020222122220211021201220120112122222102121021121120001001121211021011221001120100110201222102120122100100110002211220000020111202111210101",
		"112111122211001112011202010211010020021220102111221200012112002222101122200200202102212021102111112012202101110100002221122121101200101210112110111201001001110000010212201122122111221100000002111002220102202011020101021120202100011010111201011",
		"220021022222202002110201012020021011120202200212112111022210122021112110002222001220201121200220110020212110112000222112111010001012220021201111010021001011121100021222011000022000022211122002212201111012020210002010101212121201221222202001201",
		"001011100112112000000201000101021111012112022000011221100220011112100000011200220110120110200012001102102220000212101102222221201001221021210012200202001022011210000021121222102102100002002222021000100211120011121120022201020222120101111000100",
		"222201112021120222000020021022202122020221011001111201010202221012210101210111022012222002121020121021101002111222000011102000121222211201122121102011111022200202201110211111210012212211110001120100112202002202020010020111212200110121201022101",
		"221120020210122112002020021112221222100202100100120022202012221011101100021122202221202202001202200101100002210020122111111211222011200202201120022001202202001102120120020211201221211222201001110100211200020110001200120200002010000210022022221",
		"110111120011122101122010000021100111021212022112112012101222100021211110001112000012120111210021210221000212012212220020222000122221221011102220122021001110020001002020000102012002120002011001201002100220200100000212021012110101122100102022002",
		"111101120012020100210201221112201101120001111200211201201102020000001001011022221002110100200122021111002202001200222222220200111121012001012012102211000212101201120201102201221010021112002110121001222200001110012101101220001020122201200122201",
		"110101110210120011012210100201222002000101121112011102221121110122012222121022011200021122111201010002000022120122011112222222220100012002010202012110110021221020101201012212212011200212212010221012111000221220111202211001101201221220021201001",
		"110102112222002121212121200120202210212210001201002200201022100200022211210221110212021121002002020211122022002121122202000110100211201120002010220002102200202221011200112112210202102012200010201010020012021200112220220022101111002021211121121",
		"222211011020221212022012022020101102100220000000011010200002200020112100101001002221120020101120110212000000000012200220111111002012000210000101112110001021101120121122212011020020112010110210012001212121011022112012010010221212010102202202122",
		"111112112220210121110212120021212011112000011202111012111200000200220221002022021011021212000212000010010112022020021220222122102111222012002100202000002100102022202020111200001002021102222000021011110101120002200000010020012222022020212001012",
		"101100112111211002201020110120211201012200220100112102110020220102011010120002101020002102222212200101110010202111212012111121220120021121001001020222122101220022201101212200220200022202002010121021110221112101220122020120100012212022100220120",
		"220210221002221102112201122002122100002100112211221220220121012110201021012112011001002020011220222112021010021210122212111010012200001000101212220121001001222010002212212120100102202110110121212220002201212022000220210200001100201101202110222",
		"200000221002010222110000212022222011212221001210202102002210100020020102112220000101200022020121120200122111101102122011111211020121212211010202200021200220120210122200000020012221000201221200200202202201110222211112121120001001000020000010111",
		"111120022021221201110022222102112202221102122211202002120122110000022011010022022010002211221100202020222021221000020211110200111200102022202102102200112001212221121220021020200011120200110000012120200211111201200220120101220202010220200020202",
		"122000100201000021001211022121122112011010221102102212011010020220012220002001222210100200112020000100102100012021201220111011122122020120220101221222110120010021001020020120102110012001021010202020212212020122112110211110210022121220020210122",
		"110120200201010002221121100012111221220121002110120120121102111101002002110121020211221001200111022122102202112101101200000200022222211200202020020222222112121011121002120112211201111020200002120120202220020120121020220020020112101200012020211",
		"012211110211011022212022101220111112100220210111210201120110201022211022010110202221220011211201220022010011212221111111120002120111110201010221012220012101111000002021121221011220201012110122012221121221000001120010200201201011202120111110102",
		"122022001220002021222101102000022020120211222112020220011121100220200200212110102002121112111101122102110202212022210112111200220222022202111222000120020200010020002220200010010212101012102020002220221020110012201220201200221110220111212002022",
		"222000102220000200022000221222000211101222100112010112110202122010101011020002101100002102200222112020100121022021122010111210211020212122111000000022210102220221200011110102100121121020222112202102101200112002210112022011110021211000020021221",
		"201211212022201111002122020200202121220022011110010212002200202212022221210122002011110021002100202001000110222011100200122021022201120222102122200111022200221000100121210110200122011120120222201222202211112110022021120022012222021111100101010",
		"112120210000000200010001021121000021220002120012120021110211021101122111202222102002220120220020000012011112222102212121220000220200122000022211222201202122010121010002201021220221121221011210211201100112001112102220012010022221002200200222211",
		"000022121202112221001121020122021220100201222210110020101110010202002010111211020221222102200022001110220220201222010101122120211000112000111022022022102112102102010001201020011202020122211212112210101202200010122002110202001010010022122102122",
		"212212201220201100201101102012022121212222200211002111201012120010120022120020212000120200020210110102011212202202101012111111100022110001021001100100012200120011020210120222121201100010010122110220210101111121010011122210120201012112122012122",
		"110202022002211200001111002011020120112022011121122200011010010101121212011110010002210012022012002010210112002020102112110010210021120210200021211021000022220002211221221022201122121220111122211102111122010122022201110010101021121210222022211",
		"001022200100121101011121202120111001002002210210220121112121211010002002001010212122211212200221221112100100011202002102220010020001110212202010100102011022211021110121010120112022200211012100200202000202010010120111222101012000110001211211202",
		"212201200012010112120122012222111221110020200020020112212101012201200101101220102211021010120010210211202001010201210121111021221112022122020212221202020112112021002122212202020111222112110121221110102202110012200101122010010102211220111002122",
		"112002111202221122012112221122112021002011022112020022001101100011120001110120201220010010021120021220111010020021022120222202010001120212012000220120110100100200202210111010110220121201101222110020000000212000010020021011000000111020100101202",
		"000000120121120022012210121112110222102022110221101012222012211210000221010121111112112120212122110222020212120021110002101222010001222012001220002121002212020010122000020100201122021111211210222012100111211020022010011002222010221120000222110",
		"221201121212221111202022221210210212102001211021122120111112012112102122021212202012021201211221201221210120001221012212011200111112200010120111000012121102012220121021121010121021001122101211021220102210211111012021000121222211212111002202202",
		"001211002110220211110111010202220211022120002210220000121101021012001202120211010102100102122021120200020220202110201121202111111120222021020100201002010112102122122022201012210002111111021122202220001201000101211212021100010201022020111102210",
		"220220010110201211201012100002010210010002222012221210201011200120020221222200000011010102001102202202021120001022221011210220222001110001210210011001020101211222121220010101000112002122001001020011220210022022010120000001020011021222112122122",
		"111120210212111120201221011100120222100010012221112222200020010002110212010000022221101101022021000022001120010102000012022220122210011001222021010221012121220111202220020000220012212110201100010221102110102210010210110002020101202000120122212",
		"220100222120221101001002120101200120002122210021222220020010101022111010222210222122220120112100020202011012101212202010111110100200102200020201022021001022201020021021222222000211010020202202222021212210120022100110001222020200202222120022221",
		"221002111201100210122111021100022122010012200202000110222200110220012202012021210000211102000201210102212100001102020001011120220100220202010112002020000110112111211121022102200220010012101112111201000121011020110010200101102200010210002002122",
		"220220200222212001210222001002211100222221001020221221012020002020001020122000220020021121111122212022102021021221022110112102110220200121121021011102220121022201020220221102110011000211111121022101100112021122212020122212100220010021121121121",
		"220000112021222110200002022021021221022112021100120122102100011102110220202201022112222221000001212220120120022020022011111012021202201110210201212220202002100012121010121102011110120221122010122222220112220120001200011001002020202122000220121",
		"111102210211110001221201100201120221021202212202121012001100212112220211000002202220201212200222202111010202020211121210000012201212122212021012011011201000110210012210002222212200201201212112201111000202100020210222110002221102110110221220221",
		"222022221202020122122010012121220120001210020111200120122122211012021112011122012110001122022021210222100212120021001110111110021200110012202212100020002011011122020102111110021211201110022001212120220001121120001012100022220222100220022122221",
		"220210202001020120021220102112121020020122222110212220111000111200111221102211220122022020012001022210101100122021010001220111000122002100020020122102001220000101021102201112010010100112220101101121111022010001122120102012002002212201222212122",
		"200221001121100020100022021000012100101022220002020200201222102102001120121102211112210221212220211202012012012210011012222002011010110010020100010101000021101012200010002102120222000021211111202210021111110010022020222112111112201121012022202",
		"001222001011002210111111202111111020002101121101202110001001011202021220102122020201202222011022200221201221010120102102112100000022101021101012222222202002201210222222102121102001111211101112211000100011210020200202212210220102201211122202221",
		"111102112000111001222211212021001021110010101001101000100010000021020102200211120121222210120000101120010100200202200221121120120122111001010001110020002120201200202001212021020102122002221020121220222100011212002221211110010001000012101111011",
		"221211001120201000211111222121120100001021100212210222210211211111211222222210011000201122022021210111021110221112202011020220200211202102200210110102122022020012002100010021122100102121020012001112212211202201001110000212000220012100002102202",
		"221201222022012212001100200210222012122221211010202222221022100012012210101200200001020222011201100120122002222021201122002101012112212022011100222022101011000112020121010202100212222021111222021000120111201000002002020001000100020112111211111",
		"202201011000000110012001101010222120012000201220202102212221201012100221020111120111010020000200012222120122022210202111222101001110121112020201120201121000100210201212011000210012002102101000010200102200000000212000000201111210222210222202202",
		"222222112122210222000211212221110012111210002220001222201200122022120000001212220102112111010222011010211012112222110200000000010102010101201212100020111121021200110200112100212100011010211001120010202021101121012010011202100121100112212221111",
		"221221011102011111021012020200020211001211001111210100212101021000101221102011110101122021200212001200001211001212102220000021001121002022000021022022110221220120212102011012102021220022021201012110210100010101200121201220020101011010121112022",
		"101102010001211022210221000001211222210121101012000201212022122002111221201001201021021000221201201022122221022120210212111200221102011220210210122220100201222011220011221101221120121000021020001020012012122212210002212020221220011102211022022",
		"111111020111111120202121111102112202212211012210112110102020201100121211221022001212101212002012100220100222112100121001200212111020001121102112200012220102222212220120121000012001012021100012121001222111221021210102220012012012110112022012020",
		"212011111211001111101212020122200112001121111211101120110011102202210020211202011121020210012022201212000002010211111201012202000122102212200111012202001120020211000222212110010212222212221121220100202121101112100010222112000101201111012002122",
		"111020100202002022210121002222222012210120112111121210112101002011201100100101210221222000212220010022111110210122110112111220000012210102201010220011200000101102010110021210020200202221101020010020012100001222110102202100121112110121101102010",
		"000220000102122222011020101110212221012121012002222110112002122210112021001212010101120012211200100111012111022211100101111221022211020102010221012211222212010020202011201111210221220122222000021111112010021220222010011220212010020012211112021",
		"000012111211121201111012010102120111020122120102102010020000110200021100000221022102012101112121021022212021001112122121210122100121222121212210022122011202102020111101110112002121012100110221010100002101112222211201110122221222010210221220022",
		"200000102012210020022210110100000122100020012122100010221221022011202102100102100202001101220022211210120010021110202210111212200022210212200200210001122022021102212002001100000020202002221021020220022100201021202201211221021221110220022022121",
		"220000220100010201001100012210012022100102101012120122110211202220001020010112121100222022122002000002011212210122000210111211021002000202221001121220210120002021122022111012021110002012020212122102021200112022100121002212121220010002020022221",
		"221210100021112202211021200200211111010010101100012001200022012112202212110111122012222212110022002112201220221220220001202210020221201200021010121102222010122201202022021222111100211100020111221010120120210212201112010220002020112021000112000",
		"222000222021002020211201222210121101100010112111200002021010111002010001010200021121011222001211020212220202100201001010111210102120120021022210100201210212121001222210201211201022110012201210001010222012000021110110022220012010012002022121121",
		"202202222120101022120200112110210202011120212220220122100011100121220122222000112221021121110222101000020102001010002121002021111021011221212112201201122102100222022212220212201100220212201002010110112211011222202201020021120221112222220010000",
		"222000121212002110011121222111010100122002211222200010220021200002221100020102120012010220122100121021201021011020101112111111102002102012101112122001022122010201202121001121121210101100120001102210201222122112220220120100222011102111000210021",
		"111110002100120222102012001022001221001011212121102020100011200112001000120201120010020112201010002100012111001210001020222022121111112020201201220220100122002200220110021001000120011211020001011210210012121120011000212120021022021211000001220",
		"112112002000102220200210000122011020012211210201212101001122111102110001212200112001021001000000010101011010201100000012000221201121000201022112122101101020212011122211122021101100122222011021210212111021221010202022212211112220020122222002112",
		"211000010011212001210000212201022020100011002001012220012000221101212111122000121010202222020111000200210211121220221010111212220110201011000021122222022222122212112220000112100202020111200211112012210012001121102120021120222020020001100021011",
		"222000101000220101221210022202000000012002002101000000120001122120122200022111121221120120100002210122001222010200210010111011220222022121200220200222121210001102020022122200110121201010012100002011202002011220012220020021101001001011020221021",
		"002001200101011222200220221111112210011222101111011211200100011220022212000122122102000212220110012212011220000020021122220011022200111200022210210100122221000012002001000001102220222210000202102001211110222022222002121212012022122220001020122",
		"221222221011212000222222020221222021102020000011102122021022002020002010202202222002001000221122002022111110010011000220011200020010001100202011110101120212021100101011221211212212220212201200010111021000001110211202222121122212122202111211101",
		"112100111122012212201121122000221020010000101120110200110212220211122110102202011110111011121102011212112011102002111010111202201121012211201220110020122000112222212220021120011201000121221102100021121222212211200001220211120211001110022210020",
		"220112121012202011010121112202022111020210220010022112020111121212201202110112220000011101101001101120012100021100201121220200010220102211111012100100001102121101020122222212102010220202210121202201101020021100100102102002110012102020102202202",
		"112111201212221110021202012122200120210220221221220220022212202120201211110202111222020111212212120101110200101220000211100000022211012101100112102211011222011112012221110211002011222111010111021220221111000021000011221221211011221010021020220",
		"222000222100120121222201001001221022011120011000120012012200200001000110111122111012020201021210101012001012010021101112111011210202201012020122211101102112022000202211011010020201021202100200002110010221200022111011222002110111120120000021101",
		"221222100101011112100022102222110120202121100112101202222000220102121022100122000121100112121002212020122000122022101112200002021122200222100221101002110101000210120221002000001022012120200211211022201200110122222221200222001112022220021011111",
		"222000001012022101220122110010122222011201101021100022200000200102100111122120012102201021202102012200212001001020220112111110122111220102102222000020010122022000220022011122110020001010121021221212020000220021102112212120221102010222120020221",
		"221000102012112120202100222111210111201000212000002112122011121002020001220100020221122202121112021201011021100202222111111010020102120200001022201022012010222222201110020010020022200210000000210120022212020012122021110000121121220222122220221",
		"110121202012122021102010112022102201010200120220101001100212011211122100211000101001202210202101101101122000212120100221221222020222210111021012102111121012020200000212000002112021001121201222012112211220011200020200220221102211102020201011011",
		"222211011112010120022002201112110011221011200211102022101001122201220120100102020211000022022222201202201000101121100011212022220112220101021020022001220011221202220112002201122220211010001110111100120211111021002111100102020002121100110100200",
		"221000021100122000111201200100020201121002201110101102112202020220212220000101100121020002222100022112010110001011202212111212201212021200120022111101011012221012102210222111220102100202200011210110212120100010122002101002212100220211020000201",
		"100200022201112121122021221221202120002101010011000120001000100001001212112012200122012210110010222021100122011000021120111210010110001202110112010202120211210012120122122220220010210111120212020122021001212222221212120012102102112022122222100",
		"002021200110111022011112012100110122002121012211112221112212111121212001012110101110211100210221002121021101021001001110121200211012010102022202202202211010100222022001010122022121122000210011201202012221120122110220222110021121212220121021001",
		"210002011021212112200210110010220111112011011201211002211101211002220202122100101001220010002222120112000112000111220222112021020000022012210102010222210101211212200210112112211011022201210201212100001200002112212202210001222022001010021122210",
		"112121020012011101211120110202011020222221212210210101110012201221010211221210201210201110220011221011120121210212222221222222120021121222201200111122121000220122112110001021220210101110002222111110010011222100121101200122020000020121120101200",
		"220000112000110022010010201221200221210002202022202211120210211000022100202112001222200000211021122212210020002220000112111011222122120220001022121220021212122001120020012022011121122200122002010012120110210002021011202010220000102201200112221",
		"220020021010200101110201022110201222221221200011001221200222222021021211201111220210021210220002201210220121121122111211111210022122101010012122002220122000202111221111000221000222202000222200000201001220100101000011201202012221120102000100101",
		"000222021111212000011012211212122021012220112210220012011122222100011120011111020021100102100020001020101110201000221212211201200200102102012022202200001211121012222201122220120221010111010100200121201200102110000212112021212120221121001022102",
		"112110212221001220002120211111011201011212200211110010212121121001110021210120221201010111122111010012102212112120010200200102000022102210122212122001201012112020002021201122112221111221101110011110011021122111020001002210200012001110011120010",
		"222212121110011012212012100220121200112021212011120222110202101100212000210212222120210202000011211000100221001020100220100202220010100000212211000210002112022112110010120000022121111112001011211202021100022001102100200102102121201202220010010",
		"110201101220122211221000011222021222221002220112220102112202111221122122112212200222200022100202211020011220011220122220200102101211200200021202120002001200200011010002211211212211222202200212122010110111101001120211021011212002002100210201000",
		"221201020002110011020002011021102112110122110121002201020110211011221112222011111101111020200121112111102012200121221020112120201212111120120220011100200121201220001101020021201122101122100110111222120121212121120210210122212111020101002102122",
		"222000022222102222221012020111010120201000210011022222221112021120221210020102201022122200121102102102222012112010022011111010101110100022022121022202212002021202121011220020212010002120202111212000201221111120022020110000201220000021022022121",
		"100100012001121222112012211122201012221122211201222102021220000002011222222202121001021102100111212201220221200122211210112122211121220011121002212020101121121200111211122200012000002121221201100200111212122120010020120010110110202102120021212",
		"220000022101122112010000101010222102212000220220020202212220102012020100220122121022210102200120020002001210002222101111111012102102120212000001211002221002001020002112101200010100120102122210201221022000000210201010022102011010010000022221021",
		"110111112000111220001120022201202001020222122022120001101212022211021211200122122111202102010001221221212012220220001121222121121210120202001221220110200121000100111100012012222012200021021111000212202112212112200002101102102211021120210112022",
		"021020000220222200111212122200002220200211020022010022211112222121012201011110011202020200021111010112002101121220100000000010210111010021011100101211201210120202001111210210202012010010020121111210201122011222200111201001000201102101111210101",
		"202000120100001220021122002001010200121002111020021102222220221220220002212202002200012000210020120200010120002000101012111012222002101100000122021020220120111121110221012221000020220111221221200102222001100220201212012000210001211111020210111",
		"210121110122221020010021201222200201220200111121201121211002121002220100110022211221120222201102212221011010002010021012111111012010012101010001101220001120220000021111012111221102121021022112001110210110100210110220100020221120202220120020211",
		"222221221201111102002002122121120200101020011222211100211201220210020021111101010001011011100112002121021101021121000001201121002020210100210220120110101112100220202012002012012112222111000222201202222201112112020211221200202212021221211111000",
		"222000222220010111101100000121012021200021222021220100202020010000010221120220120220202121100120111122010212200002210012111211201212220101221122221222212012021211100101112002200101220100022020120202022100101200001202111210100010102202000011001",
		"220122122221101112021012001211200202101021212022120101121021121201201220021111112220211222111011221120200202021112022110222220002102020112000221020201221222222022011010022000102210012200121111002011102200101000200012212221211010022002211001011",





	};

	public static void main(String[] args) {
		ArrayList<Integer> firstS = new ArrayList<Integer>();
		/*	for (int i = 0; i < test.length; i++) {
			for (int j = 0; j < test[i].length; j++) {
				System.out.print("{");
				for (int j2 = 0; j2 < test[i][j].length; j2++) {
					System.out.print(test[i][j][j2] + ",");
				}
				System.out.print("}");
			}
			System.out.println();
		}*/
		for (int i = 0; i < test.length; i++) {



			int dimentions = 2; 
			int boardSize = 6;
			int numOfStates = 3;
			int numberOfRuns = 80;
			boolean randomStart = false;
			boolean vonNeumannNeighbourhood = true;

			CA ca = new CA(dimentions, boardSize, numOfStates, randomStart, vonNeumannNeighbourhood);
			ca.useWriter();
			ca.setRules(test[i]);
			ca.start(numberOfRuns);

			try(BufferedReader br = new BufferedReader(new FileReader("src\\CA\\output\\test2.txt"))) {
				String line = br.readLine();
				int iteration = 0;
				//System.out.println(line);
				line = br.readLine();
				while (line != null) {
					if(line.equals(solution)){
						firstS.add(iteration);
						break;
					}
					iteration++;
					line = br.readLine();
				}
			} catch (IOException e) {
				// TODO Auto-generated catch block
				e.printStackTrace();

			}

		}
		double sum = 0;
		System.out.println(firstS);
		System.out.println(firstS.size());
		for (int i = 0; i < firstS.size(); i++) {
			sum += firstS.get(i);	
		}
		System.out.println("Average: " + sum/firstS.size());
		
		//stdev
		System.out.println("StDev: " + stDev(firstS));
		
		
		
	}
	private static double stDev(ArrayList<Integer> set){
		double sum=0, sumMeanSquared = 0;
		double avarage;
		
		for (Integer integer : set) {
			sum+=integer;
		}
		avarage = sum/set.size();
		for (Integer integer : set) {
			sumMeanSquared += Math.pow((integer.doubleValue()-avarage),2);
			//System.out.println(Math.pow((integer.doubleValue()-avarage),2));
		}
		//System.out.println(sumMeanSquared);
		
		return Math.sqrt(sumMeanSquared/set.size());
	}

}
